<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Maria’s Professional Cleaning — Calculadora</title>

<style>
  :root{
    --brand:#2D9CDB;
    --brand-dark:#1B6FA8;
    --bg:#F2F6F9;
    --card:#FFFFFF;
    --text:#1A1A1A;
    --subtext:#4A5568;
    --border:#D9E4EC;
    --radius:12px;
    --shadow:0 8px 24px rgba(0,0,0,0.06);
  }
  *{box-sizing:border-box;}
  body{
    margin:0;
    font-family:Inter, Arial, sans-serif;
    background:var(--bg);
    color:var(--text);
    -webkit-font-smoothing:antialiased;
  }

  .wrap{max-width:480px;margin:32px auto;padding:16px}
  .header{display:flex;align-items:center;gap:12px;margin-bottom:12px}
  .logo{width:56px;height:56px;border-radius:12px;background:var(--brand);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:800;box-shadow:var(--shadow)}
  h1{margin:0;font-size:18px;color:var(--brand-dark);font-weight:800}

  .card{background:var(--card);padding:16px;border-radius:var(--radius);box-shadow:var(--shadow)}
  .tabs{display:flex;gap:10px;margin-bottom:12px}
  .tab{flex:1;padding:10px;text-align:center;border-radius:10px;border:1px solid var(--border);cursor:pointer;font-weight:700;background:#fff;color:var(--subtext)}
  .tab.active{background:var(--brand);color:#fff;border-color:var(--brand)}

  label{display:block;margin:12px 0 6px;font-weight:700;color:var(--subtext)}
  input[type="number"]{width:100%;padding:10px;border-radius:8px;border:1px solid var(--border);background:#fff;font-size:15px}

  .service-row{display:flex;flex-wrap:wrap;gap:10px;margin-top:8px}
  .svc{flex:1 1 45%;padding:10px;text-align:center;border-radius:10px;border:1px solid var(--border);background:#fff;cursor:pointer;font-weight:800;color:var(--subtext)}
  .svc.active{background:var(--brand);color:#fff;border-color:var(--brand)}

  .grid-3{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}

  .post-phases{margin-top:12px;padding:12px;border:1px solid var(--border);border-radius:10px;background:#fff}
  .phase-row{display:flex;flex-wrap:wrap;gap:8px;margin-top:8px}
  .phase{padding:8px 10px;border-radius:8px;border:1px solid var(--border);background:#fff;cursor:pointer;font-weight:700;color:var(--subtext)}
  .phase.active{background:var(--brand);color:#fff;border-color:var(--brand)}

  .result{margin-top:14px;background:#EAF6FE;padding:12px;border-radius:10px;border:1px solid var(--border)}
  .row{display:flex;justify-content:space-between;padding:6px 0;font-weight:700}

  .actions{display:flex;gap:10px;margin-top:12px}
  .btn{flex:1;padding:10px;border-radius:10px;border:none;cursor:pointer;font-weight:800}
  .primary{background:var(--brand);color:#fff}
  .ghost{background:#fff;border:1px solid var(--border);color:var(--subtext)}

  .small{font-size:13px;color:var(--subtext);margin-top:8px}
</style>
</head>

<body>
<div class="wrap">

    <div class="header">
      <div class="logo">MPC</div>
      <h1>Calculadora de Servicios — AZ</h1>
    </div>

    <div class="card" id="calculator">

      <!-- TABS -->
      <div class="tabs">
        <div class="tab active" data-mode="sqft">Por SQFT</div>
        <div class="tab" data-mode="hour">Por Hora</div>
      </div>

      <!-- SERVICE SELECTION -->
      <label>Servicio</label>
      <div class="service-row" id="services">
        <div class="svc active" data-service="regular">Regular</div>
        <div class="svc" data-service="deep">Profunda</div>
        <div class="svc" data-service="post1">Post (One-Time)</div>
        <div class="svc" data-service="postMulti">Post (Multi-Phase)</div>
        <div class="svc" data-service="power">Power Wash</div>
      </div>

      <!-- SQFT MODE -->
      <div id="mode-sqft" style="margin-top:12px">

        <label>Sqft</label>
        <input id="sqft" type="number" min="0" value="1500">

        <label>Precios por sqft</label>
        <div class="grid-3">
          <input id="sqft_regular" type="number" step="0.01" value="0.12">
          <input id="sqft_deep" type="number" step="0.01" value="0.20">
          <input id="sqft_power" type="number" step="0.01" value="0.20">
        </div>

        <!-- POST ONE-TIME -->
        <div id="post-one" class="post-phases" style="display:none;">
          <div style="font-weight:800">Post-Construction — One-Time</div>
          <div class="grid-3" style="margin-top:10px">
            <input id="p1_onetime" type="number" step="0.01" value="0.50" title="One-time">
            <input id="p1_windows" type="number" step="0.01" value="0.20" title="Windows">
            <input id="p1_patio" type="number" step="0.01" value="0.10" title="Patio">
          </div>
        </div>

        <!-- POST MULTI-PHASE -->
        <div id="post-multi" class="post-phases" style="display:none;">
          <div style="font-weight:800">Post-Construction — Multi-Phase</div>

          <div class="phase-row">
            <div class="phase active" data-phase="rough">Rough</div>
            <div class="phase" data-phase="final">Final</div>
            <div class="phase" data-phase="refresh">Refresh</div>
            <div class="phase" data-phase="windows">Windows</div>
            <div class="phase" data-phase="patio">Patio</div>
          </div>

          <label style="margin-top:10px">Precio por sqft (fase seleccionada)</label>
          <input id="post-multi-price" type="number" step="0.01" value="0.30">
        </div>

      </div>

      <!-- HOURLY MODE -->
      <div id="mode-hour" style="display:none;margin-top:12px">
        <label>Horas</label>
        <input id="hours" type="number">

        <label>Técnicos</label>
        <input id="techs" type="number" value="1">

        <label>Tarifas por hora</label>
        <div class="grid-3">
          <input id="hr_regular" type="number" value="40">
          <input id="hr_deep" type="number" value="50">
          <input id="hr_post" type="number" value="60">
        </div>
      </div>

      <!-- RESULT -->
      <div class="result">
        <div class="row"><div>Servicio</div><div id="r_service">Regular</div></div>
        <div class="row"><div>Detalle</div><div id="r_detail">—</div></div>
        <div class="row"><div>Precio</div><div id="r_price">$0.00</div></div>
        <div class="row" style="font-size:16px"><div>Total</div><div id="r_total">$0.00</div></div>
      </div>

      <div class="actions">
        <button class="btn primary" id="copy">Copiar</button>
        <button class="btn ghost" id="clear">Limpiar</button>
      </div>

      <div class="small">Maria’s Professional Cleaning</div>

    </div>
</div>

<script>
let activeService = "regular";
let activePhase = "rough";

const tabs=document.querySelectorAll(".tab");
const modeSqft=document.getElementById("mode-sqft");
const modeHour=document.getElementById("mode-hour");

tabs.forEach(t=>{
  t.addEventListener("click",()=>{
    tabs.forEach(x=>x.classList.remove("active"));
    t.classList.add("active");
    const m=t.dataset.mode;
    modeSqft.style.display=m==="sqft"?"block":"none";
    modeHour.style.display=m==="hour"?"block":"none";
    calculate();
  });
});

const svcEls=document.querySelectorAll(".svc");
const postOne=document.getElementById("post-one");
const postMulti=document.getElementById("post-multi");

svcEls.forEach(s=>{
  s.addEventListener("click",()=>{
    svcEls.forEach(x=>x.classList.remove("active"));
    s.classList.add("active");
    activeService=s.dataset.service;
    postOne.style.display=activeService==="post1"?"block":"none";
    postMulti.style.display=activeService==="postMulti"?"block":"none";
    calculate();
  });
});

const sqft=document.getElementById("sqft");
const sqft_regular=document.getElementById("sqft_regular");
const sqft_deep=document.getElementById("sqft_deep");
const sqft_power=document.getElementById("sqft_power");

const p1_onetime=document.getElementById("p1_onetime");
const p1_windows=document.getElementById("p1_windows");
const p1_patio=document.getElementById("p1_patio");

const pm_buttons=document.querySelectorAll(".phase");
const pm_price=document.getElementById("post-multi-price");

const phaseDefaults={rough:0.30,final:0.40,refresh:0.18,windows:0.20,patio:0.10};

pm_buttons.forEach(btn=>{
  btn.addEventListener("click",()=>{
    pm_buttons.forEach(x=>x.classList.remove("active"));
    btn.classList.add("active");
    activePhase=btn.dataset.phase;
    pm_price.value=phaseDefaults[activePhase];
    calculate();
  });
});

const hours=document.getElementById("hours");
const techs=document.getElementById("techs");
const hr_regular=document.getElementById("hr_regular");
const hr_deep=document.getElementById("hr_deep");
const hr_post=document.getElementById("hr_post");

const r_service=document.getElementById("r_service");
const r_detail=document.getElementById("r_detail");
const r_price=document.getElementById("r_price");
const r_total=document.getElementById("r_total");

function money(v){
  return"$"+Number(v).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});
}

function calculate(){
  const mode=document.querySelector(".tab.active").dataset.mode;

  r_service.textContent=
    activeService==="regular"?"Regular":
    activeService==="deep"?"Profunda":
    activeService==="post1"?"Post (One-Time)":
    activeService==="postMulti"?"Post (Multi-Phase) — "+activePhase:
    activeService==="power"?"Power Wash":"";

  if(mode==="sqft"){
    const s=Number(sqft.value)||0;
    r_detail.textContent=s+" sqft";
    let price=0;

    if(activeService==="regular") price=Number(sqft_regular.value)||0;
    if(activeService==="deep") price=Number(sqft_deep.value)||0;
    if(activeService==="power") price=Number(sqft_power.value)||0;

    if(activeService==="post1"){
      price=
        (Number(p1_onetime.value)||0)+
        (Number(p1_windows.value)||0)+
        (Number(p1_patio.value)||0);
    }

    if(activeService==="postMulti"){
      price=Number(pm_price.value)||0;
    }

    r_price.textContent=money(price)+"/sqft";
    r_total.textContent=money(price*s);
  }
  else{
    const h=Number(hours.value)||0;
    const t=Number(techs.value)||1;
    let rate=0;

    if(activeService==="regular") rate=Number(hr_regular.value)||0;
    if(activeService==="deep") rate=Number(hr_deep.value)||0;
    if(activeService==="post1"||activeService==="postMulti") rate=Number(hr_post.value)||0;
    if(activeService==="power") rate=Number(hr_deep.value)||0;

    const total=rate*h*t;
    r_detail.textContent=h+" h × "+t+" técnicos";
    r_price.textContent=money(rate)+"/hr";
    r_total.textContent=money(total);
  }
}

document.querySelectorAll("input").forEach(i=>i.addEventListener("input",calculate));

document.getElementById("copy").addEventListener("click",()=>{
  const txt=
`Servicio: ${r_service.textContent}
Detalle: ${r_detail.textContent}
Precio: ${r_price.textContent}
Total: ${r_total.textContent}`;
  navigator.clipboard.writeText(txt);
  alert("Copiado");
});

document.getElementById("clear").addEventListener("click",()=>{
  sqft.value="";
  hours.value="";
  techs.value=1;
  calculate();
});

calculate();
</script>

</body>
</html>
