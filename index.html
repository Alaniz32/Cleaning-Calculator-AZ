<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Calculadora — Maria’s Professional Cleaning</title>

<style>
    :root{
        --brand:#8B0000;
        --brand-light:#A31A1A;
        --bg:#F9F5F1;
        --card:#ffffff;
        --text:#1A1A1A;
        --subtext:#555;
        --border:#E5E5E5;
        --radius:12px;
        --shadow:0 8px 24px rgba(0,0,0,0.07);
    }

    body{
        margin:0;
        background:var(--bg);
        font-family: "Inter", Arial, sans-serif;
        color:var(--text);
        -webkit-font-smoothing:antialiased;
    }

    .wrap{
        max-width:480px;
        margin:30px auto;
        padding:16px;
    }

    .logo{
        display:flex;
        align-items:center;
        gap:12px;
        margin-bottom:16px;
    }

    .logo-icon{
        width:58px;height:58px;
        background:var(--brand);
        border-radius:14px;
        color:#fff;
        font-weight:800;
        display:flex;
        justify-content:center;
        align-items:center;
        font-size:20px;
        box-shadow:var(--shadow);
    }

    h1{
        margin:0;
        font-size:20px;
        font-weight:800;
        color:var(--brand);
    }

    .card{
        background:var(--card);
        padding:18px;
        border-radius:var(--radius);
        box-shadow:var(--shadow);
        margin-top:12px;
    }

    .tabs{
        display:flex;
        gap:10px;
        margin-bottom:14px;
    }

    .tab{
        flex:1;
        padding:10px;
        text-align:center;
        border-radius:8px;
        border:1px solid var(--border);
        cursor:pointer;
        font-weight:700;
        background:#fff;
    }

    .tab.active{
        background:var(--brand);
        color:#fff;
        border-color:var(--brand);
    }

    label{
        display:block;
        margin:12px 0 4px;
        font-size:14px;
        font-weight:600;
        color:var(--subtext);
    }

    input{
        width:100%;
        padding:10px;
        border-radius:8px;
        border:1px solid var(--border);
        font-size:15px;
    }

    .service-row{
        display:flex;
        flex-wrap:wrap;
        gap:10px;
        margin-top:8px;
    }

    .svc{
        flex:1 1 45%;
        padding:10px;
        text-align:center;
        border-radius:10px;
        border:1px solid var(--border);
        background:#fff;
        cursor:pointer;
        font-weight:700;
    }

    .svc.active{
        background:var(--brand);
        color:#fff;
        border-color:var(--brand);
    }

    .grid-3{
        display:grid;
        grid-template-columns:repeat(3,1fr);
        gap:10px;
    }

    .result{
        margin-top:16px;
        background:#fff7f7;
        padding:16px;
        border-radius:10px;
        border:1px solid var(--border);
    }

    .row{
        display:flex;
        justify-content:space-between;
        padding:6px 0;
        font-size:15px;
    }

    .actions{
        display:flex;
        gap:10px;
        margin-top:14px;
    }

    .btn{
        flex:1;
        padding:10px;
        border-radius:10px;
        border:none;
        cursor:pointer;
        font-weight:700;
        font-size:15px;
    }

    .primary{ background:var(--brand); color:#fff; }
    .ghost{ background:#fff; border:1px solid var(--border); }
</style>
</head>

<body>
<div class="wrap">

    <div class="logo">
        <div class="logo-icon">MPC</div>
        <h1>Calculadora — Arizona</h1>
    </div>

    <div class="card">
        <div class="tabs">
            <div class="tab active" data-mode="sqft">Por SQFT</div>
            <div class="tab" data-mode="hour">Por Hora</div>
        </div>

        <label>Servicio</label>
        <div class="service-row" id="services">
            <div class="svc active" data-service="regular">Regular</div>
            <div class="svc" data-service="deep">Profunda</div>
            <div class="svc" data-service="post1">Post (One-Time)</div>
            <div class="svc" data-service="postMulti">Post (Multi-Phase)</div>
            <div class="svc" data-service="power">Power Wash</div>
        </div>

        <!-- SQFT MODE -->
        <div id="sqftMode">
            <label>Sqft</label>
            <input id="sqft" type="number" value="1500">

            <label>Precios por sqft</label>
            <div class="grid-3">
                <input id="sqft_regular" type="number" step="0.01" value="0.12">
                <input id="sqft_deep" type="number" step="0.01" value="0.20">
                <input id="sqft_power" type="number" step="0.01" value="0.20">
            </div>
        </div>

        <!-- HOUR MODE -->
        <div id="hourMode" style="display:none;">
            <label>Horas</label>
            <input id="hours" type="number">

            <label>Técnicos</label>
            <input id="techs" type="number" value="1">

            <label>Precio por hora</label>
            <div class="grid-3">
                <input id="hr_regular" type="number" value="40">
                <input id="hr_deep" type="number" value="50">
                <input id="hr_post" type="number" value="60">
            </div>
        </div>

        <div class="result">
            <div class="row"><div>Servicio</div><div id="r_service">Regular</div></div>
            <div class="row"><div>Detalle</div><div id="r_detail">1500 sqft</div></div>
            <div class="row"><div>Precio</div><div id="r_price">$0.00</div></div>
            <div class="row"><div>Total</div><div id="r_total">$0.00</div></div>
        </div>

        <div class="actions">
            <button class="btn primary" id="copyBtn">Copiar</button>
            <button class="btn ghost" id="clearBtn">Limpiar</button>
        </div>
    </div>
</div>

<script>
let activeService = "regular";

const tabs = document.querySelectorAll(".tab");
const sqftMode = document.getElementById("sqftMode");
const hourMode = document.getElementById("hourMode");

tabs.forEach(t => {
    t.addEventListener("click", () => {
        tabs.forEach(x => x.classList.remove("active"));
        t.classList.add("active");

        const mode = t.dataset.mode;
        sqftMode.style.display = mode === "sqft" ? "block" : "none";
        hourMode.style.display = mode === "hour" ? "block" : "none";

        calculate();
    });
});

const svcButtons = document.querySelectorAll(".svc");
svcButtons.forEach(b => {
    b.addEventListener("click", () => {
        svcButtons.forEach(x => x.classList.remove("active"));
        b.classList.add("active");
        activeService = b.dataset.service;
        calculate();
    });
});

function money(v){
    return "$" + Number(v).toLocaleString("en-US", {minimumFractionDigits:2, maximumFractionDigits:2});
}

function calculate(){
    const mode = document.querySelector(".tab.active").dataset.mode;

    document.getElementById("r_service").textContent =
        activeService === "regular" ? "Regular" :
        activeService === "deep" ? "Profunda" :
        activeService === "post1" ? "Post One-Time" :
        activeService === "postMulti" ? "Post Multi-Phase" :
        activeService === "power" ? "Power Washing" : "";

    if(mode === "sqft"){
        const s = Number(document.getElementById("sqft").value) || 0;
        let price = 0;

        if(activeService === "regular") price = Number(sqft_regular.value);
        if(activeService === "deep") price = Number(sqft_deep.value);
        if(activeService === "power") price = Number(sqft_power.value);
        if(activeService === "post1") price = 0.80;
        if(activeService === "postMulti") price = 0.88;

        document.getElementById("r_detail").textContent = s + " sqft";
        document.getElementById("r_price").textContent = money(price) + "/sqft";
        document.getElementById("r_total").textContent = money(price * s);
    }
    else {
        const h = Number(hours.value) || 0;
        const t = Number(techs.value) || 1;
        let rate = 0;

        if(activeService === "regular") rate = Number(hr_regular.value);
        if(activeService === "deep") rate = Number(hr_deep.value);
        if(activeService === "post1" || activeService === "postMulti") rate = Number(hr_post.value);
        if(activeService === "power") rate = Number(hr_deep.value);

        const total = h * t * rate;

        document.getElementById("r_detail").textContent =
            `${h} h × ${t} tech(s)`;
        document.getElementById("r_price").textContent = money(rate) + "/hr";
        document.getElementById("r_total").textContent = money(total);
    }
}

document.getElementById("copyBtn").addEventListener("click", () => {
    const text =
`Servicio: ${r_service.textContent}
Detalle: ${r_detail.textContent}
Precio: ${r_price.textContent}
Total: ${r_total.textContent}`;

    navigator.clipboard.writeText(text);
    alert("Copiado");
});

document.getElementById("clearBtn").addEventListener("click", () => {
    sqft.value = "";
    hours.value = "";
    techs.value = 1;
    calculate();
});

calculate();
</script>
</body>
</html>            
